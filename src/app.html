<template>
  <require from="app.css"></require>
  <require from="elements/collection/collection"></require>
  <require from="elements/editor/editor"></require>
  <require from="elements/summary/summary"></require>

  <h1>${i18nService.get('ui.app.title')}${currentDeckService.deck.name? ` - ${currentDeckService.deck.name}` : ''}</h1>

  <nav>
    <div class="nav nav-tabs" id="nav-tab" ref="tabs" role="tablist">
      <a class="nav-item nav-link active" id="nav-collection-tab" data-toggle="tab" href="#nav-collection" role="tab" aria-controls="nav-collection" aria-selected="true">${i18nService.get('ui.app.collection-tab')}</a>
      <a class="nav-item nav-link ${currentDeckService.deck ? '' : 'disabled'}" id="nav-editor-tab" data-toggle="tab" href="#nav-editor" role="tab" aria-controls="nav-editor" aria-selected="false">${i18nService.get('ui.app.editor-tab')}</a>
      <a class="nav-item nav-link ${currentDeckService.deck ? '' : 'disabled'}" id="nav-summary-tab" data-toggle="tab" href="#nav-summary" role="tab" aria-controls="nav-summary" aria-selected="false">${i18nService.get('ui.app.summary-tab')}</a>
      <div class="ml-auto">
        <button show.bind="!userConnected" click.delegate="login()">${i18nService.get('ui.app.login')}</button>
        <button show.bind="userConnected" click.delegate="logout()">${i18nService.get('ui.app.logout')}</button>
      </div>
    </div>
  </nav>

  <div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="nav-collection" role="tabpanel" aria-labelledby="nav-collection-tab">
      <collection></collection>
    </div>

    <div class="tab-pane fade" id="nav-editor" role="tabpanel" aria-labelledby="nav-editor-tab">
      <editor></editor>
    </div>

    <div class="tab-pane fade" id="nav-summary" role="tabpanel" aria-labelledby="nav-summary-tab">
      <summary view-model.ref="summary"></summary>
    </div>
  </div>
</template>
